# Pipe_from_SqlDatabase_to_Lakehouse_deltaTable
---
## Step 1: Create SQL Database and create sample data.
- Go to the Workspace where you want to create your database.
- Click â€œ+ New itemâ€, then choose â€œSQL Databaseâ€
- Name your database (e.g., EmployeeDB) and click Create.


### ðŸ§° SQL Script: Create Tables + Insert Sample Data

```sql
-- Create department table
CREATE TABLE dept (
    dept_id INT PRIMARY KEY,
    dept_name VARCHAR(50)
);

-- Create employee table
CREATE TABLE emp (
    emp_id INT PRIMARY KEY,
    emp_name VARCHAR(100),
    hire_date DATE,
    salary DECIMAL(10, 2),
    dept_id INT,
    FOREIGN KEY (dept_id) REFERENCES dept(dept_id)
);

-- Insert sample records into dept
INSERT INTO dept (dept_id, dept_name) VALUES
(10, 'Sales'),
(20, 'Engineering'),
(30, 'HR');

-- Insert sample records into emp
INSERT INTO emp (emp_id, emp_name, hire_date, salary, dept_id) VALUES
(101, 'Alice Johnson', '2022-05-15', 72000.00, 20),
(102, 'Bob Smith', '2021-11-03', 68000.00, 10),
(103, 'Clara Martinez', '2023-01-10', 62000.00, 30),
(104, 'David Kim', '2020-08-20', 75000.00, 20);
```
---

## Step 2: Create data Pipeline
1. Log in to your Microsoft Fabric workspace.
2. Navigate to the **Data Pipelines** section.
1. In **New Pipeline** window > Give your pipeline a name, e.g., `Pipe_from_SqlDatabase_to_Lakehouse_deltaTable`.

---

## Step 3: Add  activity to the Pipeline

1. Add a **Copy Data** activity
2. Configure the following:
- **Source**:
  - Type: `FabricSqlDatabaseSource`
  - Query Timeout: `02:00:00`
  - Dataset: `FabricSqlDatabaseTable`
    - Schema: `dbo`
    - Table: `EMP`
- **Sink**:
  - Type: `LakehouseTableSink`
  - Table Action: `Append`
  - Dataset: `LakehouseTable`
    - Table Name: `emp20250411`

---

## Step 4: Review and Publish
1. Review the pipeline configuration to ensure all settings are correct.
2. Click **Publish** to deploy the pipeline.

---

## Additional Notes
- You can monitor the pipeline's execution and review logs for debugging.

## Home Work
- Pipe_from_Lakehouse_deltaTable_to_SqlDatabase
- Pipe_from_SqlDatabase_to_SqlDatabase

---
# pipeline code
`json
{
    "name": "B2602_Pipe_from_SqlDatabase_to_Lakehouse_deltaTable",
    "objectId": "59701fb9-67d8-4e29-8b78-f3d7aa61cf99",
    "properties": {
        "activities": [
            {
                "name": "Copy data1",
                "type": "Copy",
                "dependsOn": [],
                "policy": {
                    "timeout": "0.12:00:00",
                    "retry": 0,
                    "retryIntervalInSeconds": 30,
                    "secureOutput": false,
                    "secureInput": false
                },
                "typeProperties": {
                    "source": {
                        "type": "FabricSqlDatabaseSource",
                        "queryTimeout": "02:00:00",
                        "partitionOption": "None",
                        "datasetSettings": {
                            "annotations": [],
                            "connectionSettings": {
                                "name": "8be3fc2f_4c7d_41d3_8ab3_b9595e8bb000",
                                "properties": {
                                    "annotations": [],
                                    "type": "FabricSqlDatabase",
                                    "typeProperties": {
                                        "workspaceId": "@pipeline().libraryVariables.rrmasterworkspacevariables_Workspaceid",
                                        "artifactId": "@pipeline().libraryVariables.rrmasterworkspacevariables_sqldatabases"
                                    },
                                    "externalReferences": {
                                        "connection": "@pipeline().libraryVariables.rrmasterworkspacevariables_SqlDB_conn_id"
                                    }
                                }
                            },
                            "type": "FabricSqlDatabaseTable",
                            "schema": [],
                            "typeProperties": {
                                "schema": "dbo",
                                "table": "emp"
                            }
                        }
                    },
                    "sink": {
                        "type": "LakehouseTableSink",
                        "tableActionOption": "Append",
                        "partitionOption": "None",
                        "applyVOrder": true,
                        "datasetSettings": {
                            "annotations": [],
                            "connectionSettings": {
                                "name": "93657c4d_d27e_494c_8bef_f39a815ae4eb",
                                "properties": {
                                    "annotations": [],
                                    "type": "Lakehouse",
                                    "typeProperties": {
                                        "workspaceId": "@pipeline().libraryVariables.rrmasterworkspacevariables_Workspaceid",
                                        "artifactId": "@pipeline().libraryVariables.rrmasterworkspacevariables_lakhouseid",
                                        "rootFolder": "Tables"
                                    },
                                    "externalReferences": {
                                        "connection": "@pipeline().libraryVariables.rrmasterworkspacevariables_lakehouse_Conn_ID"
                                    }
                                }
                            },
                            "type": "LakehouseTable",
                            "schema": [],
                            "typeProperties": {
                                "table": "b262008_emp_data_from_sqldb"
                            }
                        }
                    },
                    "enableStaging": false,
                    "translator": {
                        "type": "TabularTranslator",
                        "typeConversion": true,
                        "typeConversionSettings": {
                            "allowDataTruncation": true,
                            "treatBooleanAsNumber": false
                        }
                    }
                }
            }
        ],
        "libraryVariables": {
            "rrmasterworkspacevariables_Workspaceid": {
                "type": "String",
                "variableName": "Workspaceid",
                "libraryName": "rr-master-workspace-variables"
            },
            "rrmasterworkspacevariables_sqldatabases": {
                "type": "String",
                "variableName": "sqldatabases",
                "libraryName": "rr-master-workspace-variables"
            },
            "rrmasterworkspacevariables_SqlDB_conn_id": {
                "type": "String",
                "variableName": "SqlDB_conn_id",
                "libraryName": "rr-master-workspace-variables"
            },
            "rrmasterworkspacevariables_lakhouseid": {
                "type": "String",
                "variableName": "lakhouseid",
                "libraryName": "rr-master-workspace-variables"
            },
            "rrmasterworkspacevariables_lakehouse_Conn_ID": {
                "type": "String",
                "variableName": "lakehouse_Conn_ID",
                "libraryName": "rr-master-workspace-variables"
            }
        },
        "lastModifiedByObjectId": "07dffa9c-d10a-43aa-a4dc-89568542f3c3",
        "lastPublishTime": "2026-02-09T02:00:14Z"
    }
}
`


